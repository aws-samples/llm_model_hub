{
    "ClusterName": "my-hyperpod-cluster",
    "Orchestrator": {
        "Eks": {
            "ClusterArn": "arn:aws:eks:us-west-2:123456789012:cluster/my-eks-cluster",
            "KubernetesConfig": {
                "Labels": {
                    "environment": "production",
                    "team": "ml-platform"
                }
            }
        }
    },
    "InstanceGroups": [
        {
            "InstanceGroupName": "gpu-workers-ondemand",
            "InstanceType": "ml.p4d.24xlarge",
            "InstanceCount": 2,
            "MinInstanceCount": 1,
            "LifeCycleConfig": {
                "SourceS3Uri": "s3://sagemaker-my-hyperpod-cluster-123456789012/lifecycle-scripts/",
                "OnCreate": "on_create.sh"
            },
            "ExecutionRole": "arn:aws:iam::123456789012:role/my-hyperpod-cluster-hyperpod-role",
            "ThreadsPerCore": 1,
            "CapacityRequirements": {
                "OnDemand": {}
            },
            "OnStartDeepHealthChecks": [
                "InstanceStress",
                "InstanceConnectivity"
            ],
            "KubernetesConfig": {
                "Labels": {
                    "workload-type": "training",
                    "gpu-type": "a100",
                    "node-type": "on-demand"
                },
                "Taints": [
                    {
                        "Key": "nvidia.com/gpu",
                        "Value": "true",
                        "Effect": "NoSchedule"
                    }
                ]
            }
        },
        {
            "InstanceGroupName": "gpu-workers-spot",
            "InstanceType": "ml.g5.12xlarge",
            "InstanceCount": 4,
            "MinInstanceCount": 2,
            "LifeCycleConfig": {
                "SourceS3Uri": "s3://sagemaker-my-hyperpod-cluster-123456789012/lifecycle-scripts/",
                "OnCreate": "on_create.sh"
            },
            "ExecutionRole": "arn:aws:iam::123456789012:role/my-hyperpod-cluster-hyperpod-role",
            "ThreadsPerCore": 1,
            "CapacityRequirements": {
                "Spot": {}
            },
            "OnStartDeepHealthChecks": [
                "InstanceStress",
                "InstanceConnectivity"
            ],
            "KubernetesConfig": {
                "Labels": {
                    "workload-type": "training",
                    "gpu-type": "a10g",
                    "node-type": "spot"
                }
            }
        },
        {
            "InstanceGroupName": "cpu-workers",
            "InstanceType": "ml.c5.9xlarge",
            "InstanceCount": 2,
            "LifeCycleConfig": {
                "SourceS3Uri": "s3://sagemaker-my-hyperpod-cluster-123456789012/lifecycle-scripts/",
                "OnCreate": "on_create.sh"
            },
            "ExecutionRole": "arn:aws:iam::123456789012:role/my-hyperpod-cluster-hyperpod-role",
            "ThreadsPerCore": 1,
            "KubernetesConfig": {
                "Labels": {
                    "workload-type": "data-processing",
                    "node-type": "cpu"
                }
            }
        }
    ],
    "VpcConfig": {
        "SecurityGroupIds": [
            "sg-0123456789abcdef0",
            "sg-0123456789abcdef1"
        ],
        "Subnets": [
            "subnet-0123456789abcdef0",
            "subnet-0123456789abcdef1"
        ]
    },
    "NodeRecovery": "Automatic",
    "NodeProvisioningMode": "Continuous",
    "Tags": [
        {
            "Key": "Environment",
            "Value": "Production"
        },
        {
            "Key": "Project",
            "Value": "LLM-Training"
        },
        {
            "Key": "CostCenter",
            "Value": "ML-Team"
        }
    ]
}
